
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/Users/sidha/OneDrive/Desktop/Software_Engineering_Project/CollabCanvas/frontend[39m

[90mstdout[2m | src/__tests__/services/accountDeletionService.test.ts[2m > [22m[2maccountDeletionService[2m > [22m[2mclearUserData should remove auth/user data but preserve theme
[22m[39mUser session and local data cleared.

[90mstdout[2m | src/__tests__/services/accountDeletionService.test.ts[2m > [22m[2maccountDeletionService[2m > [22m[2mclearUserData should not set theme if it was not present
[22m[39mUser session and local data cleared.

[90mstdout[2m | src/__tests__/services/accountDeletionService.test.ts[2m > [22m[2maccountDeletionService[2m > [22m[2mrequestAccountDeletion should call api.delete and clearUserData if success=true
[22m[39mUser session and local data cleared.

node.exe : 
[90mstderr[2m | src
/__tests__/services/a
ccountDeletionService
.test.ts[2m > [22m
[2maccountDeletionSer
vice[2m > [22m[2mr
equestAccountDeletion
 should return error 
message if request 
fails
At line:1 char:1
+ & "C:\Program Files
\nodejs/node.exe" "C:
\Users\sidha\AppData\
Roaming\ ...
+ ~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~
    + CategoryInfo   
           : NotSpe  
  cified: ([90mst   
 derr[2m...f req    
uest fails:Strin    
g) [], RemoteExc    
eption
    + FullyQualified 
   ErrorId : Native  
  CommandError
 
[22m[39mAccount 
deletion error: { 
response: { data: { 
message: 
[32m'Internal 
Server Error'[39m } 
} }

[90mstderr[2m | src
/__tests__/services/a
ccountDeletionService
.test.ts[2m > [22m
[2maccountDeletionSer
vice[2m > [22m[2mr
equestAccountDeletion
 should return 
fallback message if 
no backend message
[22m[39mAccount 
deletion error: {}

 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mclearUserData should remove auth/user data but preserve theme[32m 5[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mclearUserData should not set theme if it was not present[32m 1[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mhasPendingDeletion should return false if no pending_deletion key exists[32m 0[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mhasPendingDeletion should return true if pending_deletion exists[32m 1[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mgetPendingDeletion should return null if nothing stored[32m 0[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mgetPendingDeletion should return parsed JSON if stored[32m 1[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22msubmitDeletionFeedback should return success and message[32m 1[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mcancelAccountDeletion should return success object[32m 0[2mms[22m[39m
 [31m├ù[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mrequestAccountDeletion should call api.delete and clearUserData if success=true[32m 5[2mms[22m[39m
[31m   ΓåÆ expected "clearUserData" to be called at least once[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mrequestAccountDeletion should NOT clearUserData if success=false[32m 1[2mms[22m[39m
 [32mΓ£ô[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mrequestAccountDeletion should return error message if request fails[32m 1[2mms[22m[39m
 [31m├ù[39m src/__tests__/services/accountDeletionService.test.ts[2m > [22maccountDeletionService[2m > [22mrequestAccountDeletion should return fallback message if no backend message[32m 6[2mms[22m[39m
[31m   ΓåÆ expected { success: false, ΓÇª(1) } to deeply equal { success: false, ΓÇª(1) }[39m

[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»Γ
Ä»ΓÄ»[39m[1m[41m 
Failed Tests 2 [49m
[22m[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»[39m

[41m[1m FAIL 
[22m[49m src/__test
s__/services/accountD
eletionService.test.t
s[2m > [22maccountD
eletionService[2m > 
[22mrequestAccountDe
letion should call 
api.delete and 
clearUserData if 
success=true
[31m[1mAssertionErr
or[22m: expected 
"clearUserData" to 
be called at least 
once[39m
[36m [2mΓ¥»[22m sr
c/__tests__/services/
accountDeletionServic
e.test.ts:[2m155:22
[22m[39m
    [90m153| [39m  
  })[33m;[39m
    [90m154| [39m
    [90m155| [39m  
  [34mexpect[39m(cl
earSpy)[33m.[39m[3
4mtoHaveBeenCalled[3
9m()[33m;[39m
    [90m   | [39m  
                   
[31m^[39m
    [90m156| [39m  
  [34mexpect[39m(re
sult)[33m.[39m[34m
toEqual[39m({ 
success[33m:[39m [
35mtrue[39m[33m,[3
9m 
message[33m:[39m 
[32m"Deleted"[39m 
})[33m;[39m
    [90m157| [39m  
})[33m;[39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[1/
2]ΓÄ»[22m[39m

[41m[1m FAIL 
[22m[49m src/__test
s__/services/accountD
eletionService.test.t
s[2m > [22maccountD
eletionService[2m > 
[22mrequestAccountDe
letion should return 
fallback message if 
no backend message
[31m[1mAssertionErr
or[22m: expected { 
success: false, 
ΓÇª(1) } to deeply 
equal { success: 
false, ΓÇª(1) }[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  {[22m
[32m-   "message": 
"An error occurred 
while requesting 
account 
deletion",[39m
[31m+   "message": 
"Failed to delete 
account. Please 
verify your 
password.",[39m
[2m    "success": 
false,[22m
[2m  }[22m

[36m [2mΓ¥»[22m sr
c/__tests__/services/
accountDeletionServic
e.test.ts:[2m199:20
[22m[39m
    [90m197| [39m  
  })[33m;[39m
    [90m198| [39m
    [90m199| [39m  
  [34mexpect[39m(re
sult)[33m.[39m[34m
toEqual[39m({
    [90m   | [39m  
                 
[31m^[39m
    [90m200| [39m  
    
success[33m:[39m [
35mfalse[39m[33m,[
39m
    [90m201| [39m  
    
message[33m:[39m 
[32m"An error 
occurred while 
requesting account de
letion"[39m[33m,[3
9m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»
ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[2/
2]ΓÄ»[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[90m (12)[39m
[2m   Start at [22m 23:53:29
[2m   Duration [22m 1.16s[2m (transform 121ms, setup 176ms, import 113ms, tests 25ms, environment 638ms)[22m

